{"version":3,"file":"static/js/829.92f4d9fe.chunk.js","mappings":"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","sources":["api.js","components/SearchBox.styled.js","components/SearchBox.jsx","components/SearchedMovieList.jsx","pages/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = '64941d9c048dcb2fddefbcc98313b7a0';\n\nexport const fetchTrendingMovies = async signal => {\n  const response = await axios.get('/trending/movie/day', {\n    signal: signal,\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return response.data;\n};\n\nexport const fetchMovies = async (signal, query) => {\n  const response = await axios.get('/search/movie', {\n    signal: signal,\n    params: {\n      api_key: API_KEY,\n      query: query,\n    },\n  });\n  return response.data;\n};\n\nexport const fetchMovieDetails = async (signal, movie_id) => {\n  const response = await axios.get(`/movie/${Number(movie_id)}`, {\n    signal: signal,\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return response.data;\n};\n\nexport const fetchMovieCast = async (signal, movie_id) => {\n  const response = await axios.get(`/movie/${Number(movie_id)}/credits`, {\n    signal: signal,\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return response.data;\n};\n\nexport const fetchMovieReviews = async (signal, movie_id) => {\n  const response = await axios.get(`/movie/${Number(movie_id)}/reviews`, {\n    signal: signal,\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return response.data;\n};\n","import styled from 'styled-components';\nimport { HiSearch } from 'react-icons/hi';\n\nexport const SearchForm = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  height: 48px;\n  background-color: #fff;\n  border-radius: 5px;\n  overflow: hidden;\n  border: 1px solid #ccc;\n  margin-top: 15px;\n`;\n\nexport const Input = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  ::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n\nexport const SearchButton = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  :hover {\n    opacity: 1;\n  }\n`;\n\nexport const Icon = styled(HiSearch)`\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  transform: translate(-50%, -50%);\n`;\n","import PropTypes from 'prop-types';\nimport { SearchForm, Input, Icon, SearchButton } from './SearchBox.styled';\n\nexport const SearchBox = ({ onSubmit }) => {\n  return (\n    <SearchForm onSubmit={onSubmit}>\n      <SearchButton type=\"submit\">\n        <Icon>Search</Icon>\n      </SearchButton>\n\n      <Input\n        name=\"input\"\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n      />\n    </SearchForm>\n  );\n};\n\nSearchBox.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nexport const SearchedMovieList = ({ movies, state }) => {\n  return (\n    <ul>\n      {movies.map(movie => (\n        <li key={movie.id}>\n          <Link to={`${movie.id}`} state={state}>\n            {movie.title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nSearchedMovieList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    }).isRequired\n  ).isRequired,\n  state: PropTypes.shape({\n    from: PropTypes.shape({\n      pathname: PropTypes.string.isRequired,\n      search: PropTypes.string.isRequired,\n    }).isRequired,\n  }).isRequired,\n};\n","// import { ProductList } from \"../components/ProductList\";\nimport { useState, useEffect } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\nimport { fetchMovies } from 'api';\nimport { SearchBox } from 'components/SearchBox';\n\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { SearchedMovieList } from 'components/SearchedMovieList';\n\nconst Movies = () => {\n  const location = useLocation();\n  const [movies, setMovies] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const movieTitle = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    const controller = new AbortController();\n    const signal = controller.signal;\n\n    if (movieTitle === '') return;\n    async function getMovieDetails() {\n      try {\n        const moviesAPI = await fetchMovies(signal, movieTitle);\n        setMovies(moviesAPI.results);\n      } catch (error) {\n        if (error.message === 'canceled') {\n          console.error(error);\n          return;\n        }\n        toast.error('Movie Details not found. Please try it again.');\n      }\n    }\n\n    getMovieDetails();\n\n    return () => {\n      controller.abort();\n    };\n  }, [movieTitle]);\n\n  // const visibleMovies = movies.filter(movie =>\n  //   movie.title.toLowerCase().includes(movieTitle.toLowerCase())\n  // );\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const form = event.currentTarget;\n    const formValue = form.elements.input.value;\n\n    if (formValue === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({ query: formValue });\n    form.reset();\n  };\n\n  return (\n    <>\n      <main>\n        <SearchBox onSubmit={handleSubmit} />\n        {movies && (\n          <SearchedMovieList movies={movies} state={{ from: location }} />\n        )}\n        {movies?.length === 0 && searchParams.size > 0 && (\n          <p>There are no movies that match your search.</p>\n        )}\n      </main>\n      <Toaster position=\"top-right\" reverseOrder={false} />\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["axios","API_KEY","fetchTrendingMovies","signal","params","api_key","response","data","fetchMovies","query","fetchMovieDetails","movie_id","Number","fetchMovieCast","fetchMovieReviews","SearchForm","styled","Input","SearchButton","Icon","HiSearch","SearchBox","onSubmit","type","name","autoComplete","autoFocus","placeholder","SearchedMovieList","movies","state","map","movie","to","id","title","location","useLocation","useState","setMovies","useSearchParams","searchParams","setSearchParams","movieTitle","get","useEffect","controller","AbortController","getMovieDetails","abort","moviesAPI","results","message","console","error","toast","event","preventDefault","form","currentTarget","formValue","elements","input","value","reset","from","length","size","position","reverseOrder"],"sourceRoot":""}