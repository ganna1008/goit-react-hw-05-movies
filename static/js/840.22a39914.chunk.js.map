{"version":3,"file":"static/js/840.22a39914.chunk.js","mappings":"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","sources":["api.js","pages/MovieDetails.styled.js","pages/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = '64941d9c048dcb2fddefbcc98313b7a0';\n\nexport const fetchTrendingMovies = async signal => {\n  const response = await axios.get('/trending/movie/day', {\n    signal: signal,\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return response.data;\n};\n\nexport const fetchMovies = async (signal, query) => {\n  const response = await axios.get('/search/movie', {\n    signal: signal,\n    params: {\n      api_key: API_KEY,\n      query: query,\n    },\n  });\n  return response.data;\n};\n\nexport const fetchMovieDetails = async (signal, movie_id) => {\n  const response = await axios.get(`/movie/${Number(movie_id)}`, {\n    signal: signal,\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return response.data;\n};\n\nexport const fetchMovieCast = async (signal, movie_id) => {\n  const response = await axios.get(`/movie/${Number(movie_id)}/credits`, {\n    signal: signal,\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return response.data;\n};\n\nexport const fetchMovieReviews = async (signal, movie_id) => {\n  const response = await axios.get(`/movie/${Number(movie_id)}/reviews`, {\n    signal: signal,\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return response.data;\n};\n","import styled from 'styled-components';\n\nexport const Backlink = styled.p`\n  margin-top: 15px;\n  margin-bottom: 15px;\n`;\n\nexport const Container = styled.div`\n  display: flex;\n  list-style-type: none;\n  gap: 20px;\n  border-bottom: 1px solid black;\n  padding-top: 18px;\n  padding-bottom: 18px;\n`;\n\nexport const GenreList = styled.ul`\n  display: flex;\n  list-style-type: none;\n  gap: 15px;\n  margin: 0;\n  padding: 0;\n`;\n\nexport const SubPages = styled.div`\n  border-bottom: 1px solid black;\n  padding-top: 18px;\n  padding-bottom: 18px;\n`;\n// export const Img = styled.img`\n\n//   margin-: 0;\n//   padding: 0;\n// `;\n","import { useParams, Outlet, Link, useLocation } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\nimport { fetchMovieDetails } from 'api';\nimport {\n  Backlink,\n  Container,\n  GenreList,\n  SubPages,\n} from './MovieDetails.styled';\nimport { useRef, Suspense } from 'react';\n\nconst MovieDetails = () => {\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/movies');\n  const { movieId } = useParams();\n  const [movieDetails, setMovieDetails] = useState([]);\n\n  useEffect(() => {\n    const controller = new AbortController();\n    const signal = controller.signal;\n\n    async function getMovieDetails() {\n      try {\n        const moviesDetailsAPI = await fetchMovieDetails(signal, movieId);\n        setMovieDetails(moviesDetailsAPI);\n      } catch (error) {\n        if (error.message === 'canceled') {\n          console.error(error);\n          return;\n        }\n        toast.error('Movie Details not found. Please try it again.');\n      }\n    }\n\n    getMovieDetails();\n\n    return () => {\n      controller.abort();\n    };\n  }, [movieId]);\n\n  const {\n    original_title,\n    release_date,\n    poster_path,\n    vote_average,\n    overview,\n    genres,\n  } = movieDetails;\n\n  return (\n    <>\n      <Toaster position=\"top-right\" reverseOrder={false} />\n      {movieDetails && (\n        <main>\n          <Link to={backLinkLocationRef.current}>\n            <Backlink>&#8592; Go back</Backlink>\n          </Link>\n          <Container>\n            {poster_path && (\n              <img\n                src={`https://image.tmdb.org/t/p/w400/${poster_path}`}\n                alt={original_title}\n              />\n            )}\n            <div>\n              <h1>\n                {original_title}({release_date?.slice(0, 4)})\n              </h1>\n              <p>User score: {vote_average}</p>\n              <h3>Overview</h3>\n              <p>{overview}</p>\n              <h3>Genries</h3>\n              <GenreList>\n                {genres?.map(genre => (\n                  <li key={genre.id}>{genre.name}</li>\n                ))}\n              </GenreList>\n            </div>\n          </Container>\n          <SubPages>\n            <ul>\n              <li>\n                <Link to=\"cast\">Cast</Link>\n              </li>\n              <li>\n                <Link to=\"reviews\">Reviews</Link>\n              </li>\n            </ul>\n          </SubPages>\n          <Suspense fallback={<div>Loading1...</div>}>\n            <Outlet />\n          </Suspense>\n        </main>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["axios","API_KEY","fetchTrendingMovies","signal","params","api_key","response","data","fetchMovies","query","fetchMovieDetails","movie_id","Number","fetchMovieCast","fetchMovieReviews","Backlink","styled","Container","GenreList","SubPages","location","useLocation","backLinkLocationRef","useRef","state","from","movieId","useParams","useState","movieDetails","setMovieDetails","useEffect","controller","AbortController","moviesDetailsAPI","message","console","error","toast","getMovieDetails","abort","original_title","release_date","poster_path","vote_average","overview","genres","position","reverseOrder","to","current","src","alt","slice","map","genre","name","id","Suspense","fallback"],"sourceRoot":""}